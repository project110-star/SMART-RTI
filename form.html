<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Smart RTI Form — Full</title>

<!-- Backendless SDK -->
<script src="https://unpkg.com/backendless/dist/backendless.min.js"></script>

<style>
  *{box-sizing:border-box;margin:0;padding:0;font-family:Inter, Arial, sans-serif}
  body{background:linear-gradient(135deg,#dff6ff,#f3f7ff);padding:18px;min-height:100vh}
  .wrap{max-width:920px;margin:12px auto;background:#fff;padding:18px;border-radius:12px;box-shadow:0 8px 30px rgba(10,20,40,0.08)}
  .top{display:flex;align-items:center;justify-content:space-between}
  h2{color:#024; margin:6px 0}
  form{margin-top:12px}
  label{font-weight:600;margin-top:10px;display:block;color:#034}
  input,select,textarea,button{width:100%;padding:12px;border-radius:8px;border:1px solid #d0d7e0;font-size:15px;margin-top:8px}
  textarea{min-height:120px;resize:vertical}
  .row{display:flex;gap:12px}
  .col{flex:1}
  .small{width:180px}
  .btn{background:#007BFF;color:#fff;border:none;cursor:pointer;padding:12px;border-radius:8px}
  .btn.secondary{background:#00A86B}
  #liveMsg{white-space:pre-line;color:#b02a37;font-weight:700;margin-top:8px}
  #aiResult{display:none;margin-top:12px;padding:12px;border-radius:8px}
  .ok{background:#e6fbef;color:#0b6b2a}
  .warn{background:#fff3f2;color:#7a221c}
  .captcha-row{display:flex;gap:8px;align-items:center}
  #captchaBox{background:#000;color:#fff;padding:10px 14px;border-radius:8px;font-weight:700;letter-spacing:2px}
  .inline{display:inline-block;width:auto}
  .muted{color:#556;margin-top:6px;font-size:13px}
  @media(max-width:720px){.row{flex-direction:column}}
</style>
</head>
<body>

<div class="wrap">
  <div class="top">
    <h2>Smart RTI Form (Full)</h2>
    <div>
      <button class="btn" onclick="logout()">Logout</button>
    </div>
  </div>

  <form id="rtiForm" onsubmit="return false;">
    <label>Registration No</label>
    <input id="regNo" readonly>

    <div class="row">
      <div class="col">
        <label>State / UT</label>
        <select id="state" required onchange="loadDepartments()">
          <option value="">Select State/UT</option>
        </select>
      </div>
      <div class="col">
        <label>Department</label>
        <select id="department" required onchange="loadSubjectHints()">
          <option value="">Select Department</option>
        </select>
      </div>
    </div>

    <label>RTI Subject / Topic</label>
    <input id="subject" placeholder="Short subject (eg: Road widening at X chowk)" required>

    <label>Your Full Name</label>
    <input id="name" placeholder="Full name" required>

    <div class="row">
      <div class="col">
        <label>Gender</label>
        <select id="gender"><option value="">Select Gender</option><option>Male</option><option>Female</option><option>Other</option></select>
      </div>
      <div class="col small">
        <label>Age</label>
        <input id="age" type="number" min="1" placeholder="Age">
      </div>
    </div>

    <label>Address Line 1 (House / Street)</label>
    <input id="addr1" required>

    <label>Address Line 2 (Locality)</label>
    <input id="addr2">

    <div class="row">
      <div class="col small">
        <label>Pincode</label>
        <input id="pincode" placeholder="Enter pincode" required>
      </div>
      <div class="col">
        <label>Mobile Number</label>
        <input id="mobile" placeholder="Mobile number" required>
      </div>
    </div>

    <label>Email</label>
    <input id="email" type="email" placeholder="Email address" required>

    <label>Detailed RTI Question / Description</label>
    <textarea id="rtiText" placeholder="Write full details..." required></textarea>
    <div class="muted">Tip: Add specifics — location landmark, time, previous complaints (if any).</div>

    <div class="captcha-row" style="margin-top:8px">
      <div id="captchaBox"></div>
      <input id="captchaInput" placeholder="Enter Captcha" style="flex:1">
      <button id="captchaRefresh" type="button" class="btn inline">↻</button>
    </div>

    <div id="liveMsg"></div>

    <div style="display:flex;gap:8px;margin-top:10px">
      <button type="button" class="btn" onclick="aiVerifyRTI()">AI Verify Information</button>
      <button type="button" class="btn secondary" onclick="submitRTI()">Submit RTI</button>
    </div>

    <div id="aiResult"></div>
  </form>
</div>

<script>
/* ==================== CONFIG ==================== */
/* Replace with your own Backendless App ID & JS Key if you wish */
const BACKENDLESS_APP_ID = "A1EFA0A2-9F5F-4AB4-B41A-34610BD8119F";
const BACKENDLESS_JS_KEY = "F7F4D0E1-9677-4715-8C0E-F1FD819B9D69";

/* Initialize Backendless */
Backendless.initApp(BACKENDLESS_APP_ID, BACKENDLESS_JS_KEY);

/* ====== PINCODE RANGES (used for validation) ====== */
const PINCODE_RANGE = {
  "Andhra Pradesh": [500000, 539999],
  "Arunachal Pradesh": [790000, 792999],
  "Assam": [780000, 789999],
  "Bihar": [800000, 855999],
  "Chhattisgarh": [490000, 499999],
  "Goa": [403000, 403999],
  "Gujarat": [360000, 396999],
  "Haryana": [121000, 135999],
  "Himachal Pradesh": [171000, 177999],
  "Jharkhand": [814000, 834999],
  "Karnataka": [560000, 591999],
  "Kerala": [670000, 695999],
  "Madhya Pradesh": [450000, 488999],
  "Maharashtra": [400000, 445999],
  "Manipur": [795000, 795999],
  "Meghalaya": [793000, 794999],
  "Mizoram": [796000, 796999],
  "Nagaland": [797000, 798999],
  "Odisha": [750000, 770999],
  "Punjab": [140000, 160999],
  "Rajasthan": [300000, 345999],
  "Sikkim": [737000, 737999],
  "Tamil Nadu": [600000, 643999],
  "Telangana": [500000, 509999],
  "Tripura": [799000, 799999],
  "Uttar Pradesh": [200000, 285999],
  "Uttarakhand": [244000, 263999],
  "West Bengal": [700000, 743999]
};

/* ========== SAMPLE RTI DATASET (state->departments->subject hints) ========== 
   You can replace this with external dataset.js. This inline one ensures form works standalone.
*/
const RTI_DATASET = {
"West Bengal": {
  "Agriculture": [
    "Crop insurance beneficiary list",
    "Fertilizer distribution report",
    "Minimum support price data"
  ],
  "Education": [
    "School teacher vacancy status",
    "Scholarship disbursement details",
    "School infrastructure development"
  ],
  "Health": [
    "Hospital bed availability",
    "Medicine stock records",
    "Doctor appointment status"
  ],
  "Home": [
    "Police FIR statistics",
    "Prisoner welfare information",
    "Disaster response expenditure"
  ],
  "Transport": [
    "Bus depot staff list",
    "Road repair fund usage",
    "Ticketing system audit"
  ],
  "Power": [
    "Electricity outage report",
    "Transformer installation status",
    "Smart meter deployment"
  ],
  "Finance": [
    "Budget allocation records",
    "Tax collection statement",
    "Audit department expenditure"
  ],
  "Water Supply": [
    "Pipeline repair status",
    "Water quality test results",
    "Daily water supply schedule"
  ],
  "Industry": [
    "Industrial licenses issued",
    "Factory inspection reports",
    "Industrial land allotment"
  ],
  "Rural Development": [
    "MGNREGA payment details",
    "Road construction progress",
    "Village-level beneficiary list"
  ],
  "Urban Development": [
    "Municipal tax collection",
    "Drainage cleaning schedule",
    "Smart city expenditure"
  ],
  "Women & Child Welfare": [
    "Anganwadi food supply",
    "Women helpline calls",
    "Child protection cases"
  ],
  "Social Justice": [
    "Caste certificate issuance",
    "Welfare pension list",
    "Disabled student support"
  ],
  "Minority Affairs": [
    "Scholarship fund usage",
    "Minority housing scheme",
    "Educational grant list"
  ],
  "Forest": [
    "Tree plantation records",
    "Forest land encroachment",
    "Wildlife protection cases"
  ],
  "Revenue": [
    "Land mutation status",
    "Property tax collection",
    "Land record digitization"
  ],
  "Tourism": [
    "Tourist footfall statistics",
    "Hotel classification details",
    "Tourism promotion budget"
  ],
  "Labour": [
    "Minimum wage revision",
    "Labour license data",
    "Accident compensation cases"
  ],
  "Food & Civil Supplies": [
    "Ration card list",
    "PDS shop inspection report",
    "Food grain allocation"
  ],
  "Public Works": [
    "Bridge construction status",
    "Highway repair report",
    "Project tender information"
  ]
  
},
"Odisha": {
  "Agriculture": [
    "Paddy procurement status",
    "Fertilizer stock report",
    "Crop damage compensation list"
  ],
  "Education": [
    "School teacher attendance",
    "Hostel facility report",
    "Scholarship disbursement"
  ],
  "Health": [
    "PHC staff list",
    "Medicine purchase record",
    "Ambulance availability"
  ],
  "Home": [
    "Cyclone relief expenditure",
    "Police station functioning",
    "Prisoner health records"
  ],
  "Transport": [
    "Bus route permit list",
    "Road accident report",
    "Highway toll collection"
  ],
  "Power": [
    "Village electrification",
    "Transformer maintenance",
    "Electricity billing audit"
  ],
  "Finance": [
    "GST collection data",
    "Budget expense report",
    "Audit objections list"
  ],
  "Water Supply": [
    "Rural water tank cleaning",
    "Pipeline leakage report",
    "Handpump repair status"
  ],
  "Industry": [
    "Industrial policy subsidy",
    "Mine safety reports",
    "Industrial pollution checks"
  ],
  "Rural Development": [
    "MGNREGA muster roll",
    "Rural housing list",
    "Village sanitation plan"
  ],
  "Urban Development": [
    "Smart city project cost",
    "Municipal garbage collection",
    "Streetlight maintenance"
  ],
  "Women & Child Welfare": [
    "Malnutrition cases",
    "Anganwadi worker list",
    "Shelter home audit"
  ],
  "Social Justice": [
    "SC/ST scholarship list",
    "Pension beneficiary data",
    "Welfare fund usage"
  ],
  "Minority Affairs": [
    "Hostel facility for minorities",
    "Scholarship distribution",
    "Skill development report"
  ],
  "Forest": [
    "Forest fire report",
    "Tree plantation map",
    "Wildlife permit issuance"
  ],
  "Revenue": [
    "Encroachment cases",
    "Land registration data",
    "Tax collection report"
  ],
  "Tourism": [
    "Temple tourism statistics",
    "Hotel license list",
    "Tourism project expenditure"
  ],
  "Labour": [
    "Contract labour details",
    "ESI benefits records",
    "Labour welfare inspections"
  ],
  "Food & Civil Supplies": [
    "PDS ration distribution",
    "Food storage inspection",
    "Ration card verification"
  ],
  "Public Works": [
    "Road construction audit",
    "Bridge safety inspection",
    "Tender document records"
  ]
  },
  
  "Bihar": {
  "Agriculture": [
    "Irrigation canal maintenance",
    "Seed distribution list",
    "Crop failure compensation"
  ],
  "Education": [
    "Teacher attendance report",
    "School building condition",
    "Scholarship distribution data"
  ],
  "Health": [
    "PHC doctor availability",
    "Vaccine stock details",
    "Ambulance response time"
  ],
  "Home": [
    "Police station staff list",
    "Crime statistics",
    "Flood relief fund usage"
  ],
  "Transport": [
    "Road widening project",
    "Bus permit issuance",
    "Railway crossing safety"
  ],
  "Power": [
    "Electricity theft cases",
    "Transformer installation",
    "Village electrification list"
  ],
  "Finance": [
    "Tax collection records",
    "Budget usage report",
    "Audit department findings"
  ],
  "Water Supply": [
    "Handpump installation",
    "Water tank maintenance",
    "Water quality testing"
  ],
  "Industry": [
    "Factory inspection reports",
    "Industrial area allocation",
    "Pollution control details"
  ],
  "Rural Development": [
    "MGNREGA payments",
    "Panchayat road status",
    "Rural housing list"
  ],
  "Urban Development": [
    "Drainage cleaning schedule",
    "Municipal tax records",
    "City sanitation plan"
  ],
  "Women & Child Welfare": [
    "ICDS food supply",
    "Women safety helpline",
    "Child adoption records"
  ],
  "Social Justice": [
    "SC/ST loan scheme list",
    "Pension beneficiary status",
    "Caste certificate data"
  ],
  "Minority Affairs": [
    "Hostel facility for minorities",
    "Scholarship list",
    "Skill training records"
  ],
  "Forest": [
    "Forest land survey",
    "Illegal logging cases",
    "Wildlife rescue cases"
  ],
  "Revenue": [
    "Land dispute cases",
    "Tax arrear details",
    "Registry office records"
  ],
  "Tourism": [
    "Tourist spot development",
    "Hotel license renewal",
    "Tourist safety report"
  ],
  "Labour": [
    "Labour accident cases",
    "Employment card issuance",
    "Wage payment records"
  ],
  "Food & Civil Supplies": [
    "Ration shop inspection",
    "PDS stock report",
    "Ration card verification"
  ],
  "Public Works": [
    "Bridge construction audit",
    "Road repair schedule",
    "Tender documents"
  ]
},

"Jharkhand": {
  "Agriculture": [
    "Fertilizer availability",
    "Rainwater harvesting status",
    "Crop insurance claims"
  ],
  "Education": [
    "School attendance records",
    "Scholarship distribution",
    "Hostel facility audit"
  ],
  "Health": [
    "Hospital staff vacancy",
    "Ambulance service data",
    "Medicine purchase report"
  ],
  "Home": [
    "Police station manpower",
    "Naxal-affected area report",
    "Disaster management fund"
  ],
  "Transport": [
    "Road repair progress",
    "Vehicle registration data",
    "Bus permit allocation"
  ],
  "Power": [
    "Power outage hours",
    "Electricity bill audit",
    "Transmission line safety"
  ],
  "Finance": [
    "Budget expenditure list",
    "GST collection report",
    "Audit objections"
  ],
  "Water Supply": [
    "Handpump repair list",
    "Water tanker usage",
    "Pipeline leakage report"
  ],
  "Industry": [
    "Mining lease details",
    "Pollution monitoring",
    "Industrial project status"
  ],
  "Rural Development": [
    "MGNREGA job card list",
    "Village road construction",
    "PM Awas Yojana data"
  ],
  "Urban Development": [
    "Garbage collection schedule",
    "Streetlight maintenance",
    "Municipal water supply"
  ],
  "Women & Child Welfare": [
    "Anganwadi building status",
    "Women helpline calls",
    "Nutrition program audit"
  ],
  "Social Justice": [
    "Pension scheme status",
    "SC/ST development funds",
    "Caste certificate list"
  ],
  "Minority Affairs": [
    "Skill training attendance",
    "Scholarship records",
    "Minority housing scheme"
  ],
  "Forest": [
    "Forest fire cases",
    "Elephant corridor map",
    "Illegal mining activity"
  ],
  "Revenue": [
    "Land record digitization",
    "Mutation status",
    "Tax collection list"
  ],
  "Tourism": [
    "Tourist count report",
    "Hotel registration list",
    "Tourism marketing expenses"
  ],
  "Labour": [
    "Minimum wage list",
    "ESI registers",
    "Labour accident claims"
  ],
  "Food & Civil Supplies": [
    "Ration distribution record",
    "Warehouse inspection",
    "Food grain allocation"
  ],
  "Public Works": [
    "Road tender list",
    "Bridge construction plan",
    "Panchayat building status"
  ]
},

"Uttar Pradesh": {
  "Agriculture": [
    "Sugarcane farmer dues",
    "Agricultural subsidy list",
    "Pesticide quality inspection"
  ],
  "Education": [
    "Teacher posting list",
    "Mid-day meal expenditure",
    "School safety audit"
  ],
  "Health": [
    "District hospital staff list",
    "Medicine stock report",
    "Ambulance response details"
  ],
  "Home": [
    "Police FIR register",
    "Women's safety cases",
    "Disaster relief distribution"
  ],
  "Transport": [
    "Metro project progress",
    "Bus permit status",
    "Highway toll collection"
  ],
  "Power": [
    "Transformer failure report",
    "Electricity billing audit",
    "Rural electrification"
  ],
  "Finance": [
    "Department expenditure",
    "Income tax collection",
    "Audit objections"
  ],
  "Water Supply": [
    "Ganga cleaning project",
    "Pipeline maintenance",
    "Water quality report"
  ],
  "Industry": [
    "Industrial area pollution",
    "Factory licenses issued",
    "Startup policy beneficiaries"
  ],
  "Rural Development": [
    "Village road projects",
    "MGNREGA worker list",
    "Housing scheme progress"
  ],
  "Urban Development": [
    "Smart city fund usage",
    "Sewage cleaning schedule",
    "Property tax collection"
  ],
  "Women & Child Welfare": [
    "Anganwadi center list",
    "Women helpline calls",
    "Child nutrition survey"
  ],
  "Social Justice": [
    "OBC/SC scholarship list",
    "Pension beneficiary details",
    "Welfare scheme audit"
  ],
  "Minority Affairs": [
    "Minority scholarships",
    "Hostel facility report",
    "Training program data"
  ],
  "Forest": [
    "Tree plantation record",
    "Wildlife protection report",
    "Forest land dispute"
  ],
  "Revenue": [
    "Land map digitization",
    "Mutation cases",
    "Tax collection report"
  ],
  "Tourism": [
    "Ayodhya tourism data",
    "Hotel registration",
    "Tourist safety details"
  ],
  "Labour": [
    "Labour welfare fund usage",
    "Accident compensation",
    "Minimum wage list"
  ],
  "Food & Civil Supplies": [
    "Ration shop list",
    "PDS distribution",
    "Warehouse inspection"
  ],
  "Public Works": [
    "Highway construction status",
    "Bridge safety audit",
    "Road tender list"
  ]
},


"Uttarakhand": {
  "Agriculture": [
    "Hill farming subsidy list",
    "Organic farming beneficiaries",
    "Seed distribution"
  ],
  "Education": [
    "School building repair",
    "Teacher transfer list",
    "Scholarship audit"
  ],
  "Health": [
    "PHC doctor shortage",
    "Medicine supply list",
    "Ambulance availability"
  ],
  "Home": [
    "Disaster management cost",
    "Forest fire emergency",
    "Police station data"
  ],
  "Transport": [
    "Hill road repair",
    "Bus permit issuance",
    "Taxi registration list"
  ],
  "Power": [
    "Hydropower plant audit",
    "Transformer maintenance",
    "Electricity usage"
  ],
  "Finance": [
    "Budget allocation",
    "Audit report",
    "Tax receipt details"
  ],
  "Water Supply": [
    "Mountain water project",
    "Pipeline leakage",
    "Water testing reports"
  ],
  "Industry": [
    "Industrial pollution data",
    "Industrial licenses",
    "Factory worker count"
  ],
  "Rural Development": [
    "Village road project",
    "Housing scheme list",
    "MGNREGA job card"
  ],
  "Urban Development": [
    "Municipal waste audit",
    "Streetlight repairs",
    "Property tax report"
  ],
  "Women & Child Welfare": [
    "Anganwadi survey",
    "Women helpline records",
    "Child care home audit"
  ],
  "Social Justice": [
    "Welfare pension list",
    "SC/ST scholarship",
    "Caste certificate list"
  ],
  "Minority Affairs": [
    "Scholarship list",
    "Minority hostel",
    "Training attendance"
  ],
  "Forest": [
    "Forest fire data",
    "Tree plantation list",
    "Wildlife rescue"
  ],
  "Revenue": [
    "Land record digitization",
    "Tax collection report",
    "Mutation status"
  ],
  "Tourism": [
    "Char Dham visitor data",
    "Hotel permits",
    "Tourist safety audit"
  ],
  "Labour": [
    "Labour welfare records",
    "Minimum wage list",
    "ESI register"
  ],
  "Food & Civil Supplies": [
    "PDS food distribution",
    "Ration card list",
    "Warehouse inspection"
  ],
  "Public Works": [
    "Hill highway construction",
    "Bridge report",
    "Tender document list"
  ]
},

"Haryana": {
  "Agriculture": [
    "Crop MSP procurement list",
    "Soil health card data",
    "Fertilizer stock details"
  ],
  "Education": [
    "School teacher posting",
    "Scholarship funds used",
    "Smart classroom installation"
  ],
  "Health": [
    "District hospital staff details",
    "Medicine purchase records",
    "Health center audit"
  ],
  "Home": [
    "Police crime statistics",
    "RTI on FIR status",
    "Disaster relief expenditure"
  ],
  "Transport": [
    "Road transport revenue",
    "Bus fleet maintenance",
    "Highway toll tax records"
  ],
  "Power": [
    "Electricity theft report",
    "New connection status",
    "Transformer repair details"
  ],
  "Finance": [
    "State budget expenditure",
    "Tax recovery report",
    "Audit department findings"
  ],
  "Water Supply": [
    "Canal water distribution",
    "Pipeline repair status",
    "Water quality tests"
  ],
  "Industry": [
    "Industrial license data",
    "Pollution certificate reports",
    "Industrial land allotment"
  ],
  "Rural Development": [
    "MGNREGA job list",
    "Village road project",
    "Panchayat fund usage"
  ],
  "Urban Development": [
    "Municipal solid waste reports",
    "Property tax collection",
    "Urban drainage project"
  ],
  "Women & Child Welfare": [
    "Anganwadi worker list",
    "Nutrition supply audit",
    "Women helpline statistics"
  ],
  "Social Justice": [
    "Old age pension list",
    "SC/ST welfare details",
    "Caste certificate issuance"
  ],
  "Minority Affairs": [
    "Scholarship distribution",
    "Hostel data",
    "Training program records"
  ],
  "Forest": [
    "Forest area survey",
    "Tree plantation records",
    "Wildlife report"
  ],
  "Revenue": [
    "Land mutation cases",
    "Land record digitization",
    "Tax collection data"
  ],
  "Tourism": [
    "Tourist site development",
    "Hotel registration list",
    "Tourism promotion expense"
  ],
  "Labour": [
    "Labour welfare fund",
    "Accident compensation list",
    "Minimum wage details"
  ],
  "Food & Civil Supplies": [
    "Ration card verification",
    "PDS shop inspection",
    "Grain allocation list"
  ],
  "Public Works": [
    "Bridge construction",
    "Road tender list",
    "Highway repair status"
  ]
},


"Punjab": {
  "Agriculture": [
    "Wheat procurement center records",
    "Fertilizer allocation summary",
    "Crop MSP payment status"
  ],
  "Education": [
    "Government teacher transfer list",
    "Smart school project status",
    "Scholarship distribution data"
  ],
  "Health": [
    "District hospital staff availability",
    "Medicine stock report",
    "Ambulance service logs"
  ],
  "Public Works": [
    "National highway repair tender",
    "Bridge inspection reports",
    "Rural road project updates"
  ],
  "Transport": [
    "Bus route allocation logs",
    "Permit renewal records",
    "Transport tax collection"
  ],
  "Housing": [
    "EWS housing allotment list",
    "Slum redevelopment progress",
    "Construction audit reports"
  ],
  "Revenue": [
    "Land mutation status",
    "Registry fee collection",
    "Property dispute case list"
  ],
  "Urban Development": [
    "Municipal waste management reports",
    "Sewerage upgrade tenders",
    "Street light installation logs"
  ],
  "Environment": [
    "River pollution test results",
    "Industrial emission notices",
    "Forest clearance applications"
  ],
  "Water Resources": [
    "Canal water distribution",
    "Dam safety inspection logs",
    "Groundwater testing reports"
  ],
  "Tourism": [
    "Golden Temple tourist count",
    "Hotel registration logs",
    "Tourism promotion budget usage"
  ],
  "Forest": [
    "Forest protection staff data",
    "Tree plantation records",
    "Wildlife incident reports"
  ],
  "Police": [
    "Crime rate statistics",
    "Pending FIR records",
    "Police vehicle maintenance logs"
  ],
  "Disaster Management": [
    "Flood relief material distribution",
    "Disaster fund usage",
    "Early warning system audits"
  ],
  "Electricity": [
    "Power subsidy beneficiaries",
    "Transformer failure reports",
    "Line repair status"
  ],
  "Women & Child": [
    "Anganwadi nutrition logs",
    "Women helpline reports",
    "Child protection case summaries"
  ],
  "Finance": [
    "State tax collection list",
    "Audit objection report",
    "Budget utilization certificates"
  ],
  "General Administration": [
    "Employee posting list",
    "Office circular archives",
    "Department asset inventory"
  ],
  "Food & Civil Supplies": [
    "PDS ration distribution",
    "Ration shop inspection logs",
    "Stock movement summary"
  ],
  "Labour": [
    "Factory inspection reports",
    "Minimum wage compliance",
    "Labour welfare fund lists"
  ]
},
"Himachal Pradesh": {
  "Agriculture": [
    "Apple crop subsidy data",
    "Irrigation scheme progress",
    "Organic farming certification list"
  ],
  "Education": [
    "Teacher attendance reports",
    "School infrastructure plans",
    "Scholarship distribution logs"
  ],
  "Health": [
    "PHC staff availability",
    "Ambulance placement records",
    "Medicine purchase invoices"
  ],
  "Public Works": [
    "Hilly road maintenance data",
    "Tunnel construction status",
    "Snow clearance contract records"
  ],
  "Transport": [
    "HRTC bus schedule logs",
    "Permit issuance list",
    "Road accident statistics"
  ],
  "Housing": [
    "Rural housing allotment list",
    "Building permission records",
    "Housing subsidy tracking"
  ],
  "Revenue": [
    "Land settlement records",
    "Tax arrears list",
    "Mutation approval status"
  ],
  "Urban Development": [
    "Municipal waste collection data",
    "Drainage expansion plan",
    "Property tax payment logs"
  ],
  "Environment": [
    "Forest fire incident logs",
    "Pollution monitoring results",
    "Green zone protection plans"
  ],
  "Water Resources": [
    "Hydel project status",
    "Water pipeline repair logs",
    "Stream water quality tests"
  ],
  "Tourism": [
    "Hotel license renewals",
    "Tourist registration stats",
    "Tourism infrastructure progress"
  ],
  "Forest": [
    "Forest land diversion logs",
    "Afforestation expenditure",
    "Wildlife census data"
  ],
  "Police": [
    "Crime detail reports",
    "Missing persons cases",
    "Police deployme"
    ],
},
"Rajasthan": {
  "Agriculture": [
    "Desert farming subsidy list",
    "Irrigation water distribution",
    "Crop insurance settlement"
  ],
  "Education": [
    "Teacher transfer files",
    "Smart class installation logs",
    "Scholarship scheme reports"
  ],
  "Health": [
    "Hospital bed occupancy",
    "Medicine distribution logs",
    "Doctor attendance records"
  ],
  "Public Works": [
    "Highway expansion progress",
    "Bridge safety inspections",
    "Road repair tenders"
  ],
  "Transport": [
    "Bus depot staff list",
    "Permit issuance status",
    "Vehicle tax reports"
  ],
  "Housing": [
    "PMAY house allotment list",
    "Building approval files",
    "Construction complaint reports"
  ],
  "Revenue": [
    "Land mutation records",
    "Patta distribution list",
    "Tax collection register"
  ],
  "Urban Development": [
    "Garbage collection logs",
    "Drainage construction status",
    "Streetlight installation report"
  ],
  "Environment": [
    "Air pollution data",
    "Desert conservation plan",
    "Water quality test results"
  ],
  "Water Resources": [
    "Dam water level reports",
    "Pipeline leakage records",
    "Canal cleaning logs"
  ],
  "Tourism": [
    "Monument fee collection",
    "Heritage restoration projects",
    "Tourism fund utilization"
  ],
  "Forest": [
    "Tiger reserve inspection reports",
    "Forest protection logs",
    "Tree plantation activity"
  ],
  "Police": [
    "FIR registration list",
    "Crime mapping data",
    "Vehicle challan records"
  ],
  "Disaster Management": [
    "Flood relief materials",
    "Desert storm warnings",
    "Disaster fund expenditure"
  ],
  "Electricity": [
    "Solar plant production data",
    "Grid failure logs",
    "Transformer repair reports"
  ],
  "Women & Child": [
    "Nutrition supply tracking",
    "Women shelter occupancy",
    "Child adoption case list"
  ],
  "Finance": [
    "State budget spending",
    "Tax audit reports",
    "Pension disbursement list"
  ],
  "General Administration": [
    "Employee transfer orders",
    "Service record logs",
    "Office circulars"
  ],
  "Food & Civil Supplies": [
    "Ration card verification",
    "PDS allocation register",
    "Grain inventory"
  ],
  "Labour": [
    "Labour license registrations",
    "Accident compensation",
    "Minimum wage enforcement"
  ]
},
"Gujarat": {
  "Agriculture": [
    "Narayanpur canal irrigation status",
    "Minimum support price payment delay",
    "Crop insurance beneficiary list"
  ],
  "Education": [
    "GTU exam revaluation status",
    "Teacher recruitment backlog",
    "School infrastructure grant usage"
  ],
  "Health": [
    "Civil hospital medicine stock",
    "Emergency ambulance response time",
    "Rural PHC doctor availability"
  ],
  "Police": [
    "Pending FIR list",
    "Investigation status delays",
    "Traffic challan automation data"
  ],
  "Transport": [
    "GSRTC bus route permit",
    "Road construction fund usage",
    "Highway toll collection details"
  ],
  "Housing": [
    "PM Awas Yojana house allotment",
    "Slum redevelopment project status",
    "Beneficiary list verification"
  ],
  "Rural Development": [
    "MGNREGA job card list",
    "Panchayat fund utilization",
    "Village road construction progress"
  ],
  "Urban Development": [
    "Smart city project reports",
    "Drainage line construction",
    "Streetlight maintenance contract"
  ],
  "Revenue": [
    "Land record mutation status",
    "Circle rate updates",
    "Property tax arrears list"
  ],
  "Women & Child Welfare": [
    "Anganwadi food distribution",
    "Widow pension pending list",
    "Child malnutrition report"
  ],
  "Food & Supplies": [
    "Ration card activation",
    "PDS shop audit reports",
    "Wheat & rice allocation"
  ],
  "Energy": [
    "Electricity meter replacement",
    "Rooftop solar subsidy",
    "Power outage logs"
  ],
  "Water Resources": [
    "Narmada canal cleaning reports",
    "Borewell recharge data",
    "Village water supply schedule"
  ],
  "Industries": [
    "Industrial license approvals",
    "Pollution NOC status",
    "Factory inspection reports"
  ],
  "Social Justice": [
    "Senior citizen pension list",
    "SC/ST scholarship delay reasons",
    "Hostel fund utilization"
  ],
  "Tourism": [
    "Statue of Unity ticket revenue",
    "Hotel permit renewals",
    "Tourist safety measures"
  ],
  "Environment": [
    "Air quality monitoring data",
    "Tree plantation audit report",
    "River pollution control actions"
  ],
  "IT Department": [
    "Digital Gujarat service downtime logs",
    "E-governance tender details",
    "CSC center ID list"
  ],
  "Labour": [
    "Construction worker registration list",
    "Labour welfare fund usage",
    "Minimum wage enforcement report"
  ]
},
"Madhya Pradesh": {
  "Agriculture": [
    "PM Kisan beneficiary payment status",
    "Crop insurance rejected claims",
    "Krishi mandi daily rate records"
  ],
  "Education": [
    "Government school teacher transfer list",
    "Scholarship disbursement delays",
    "School building maintenance report"
  ],
  "Health": [
    "PHC medicine availability",
    "District hospital staff shortage",
    "Ambulance response time report"
  ],
  "Police": [
    "FIR disposal progress",
    "Police station manpower data",
    "Cybercrime pending cases"
  ],
  "Transport": [
    "MP Roadways bus maintenance report",
    "Highway toll tender details",
    "State road construction progress"
  ],
  "Housing": [
    "PM Awas Yojana incomplete houses list",
    "Urban housing project delay reasons",
    "Beneficiary verification list"
  ],
  "Rural Development": [
    "MGNREGA job card status",
    "Gram Panchayat fund utilization",
    "Village sanitation audit report"
  ],
  "Urban Development": [
    "Municipal corporation water pipeline project",
    "Smart city project tender details",
    "Solid waste collection report"
  ],
  "Revenue": [
    "Land mutation pending cases",
    "Property tax defaulters list",
    "Land demarcation status"
  ],
  "Women & Child Welfare": [
    "Anganwadi nutrition distribution",
    "Widow pension approval status",
    "Girl child welfare scheme report"
  ],
  "Food & Supplies": [
    "Ration card deletion reports",
    "PDS shop inspection data",
    "Food grain allocation details"
  ],
  "Energy": [
    "Power cut duration logs",
    "Rooftop solar installation grants",
    "Transformer replacement records"
  ],
  "Water Resources": [
    "Dam water level reports",
    "Canal desilting progress",
    "Village drinking water plan"
  ],
  "Industries": [
    "Industrial land allotment status",
    "Factory inspection report",
    "Industrial pollution compliance"
  ],
  "Social Justice": [
    "Pension scheme pending list",
    "Hostel fund utilization",
    "SC/ST scholarship delays"
  ],
  "Tourism": [
    "Khajuraho visitor statistics",
    "Hotel permit renewals",
    "Tourist safety reports"
  ],
  "Environment": [
    "Forest land diversion cases",
    "Wildlife conservation activity report",
    "Air quality index data"
  ],
  "IT Department": [
    "E-district service downtime log",
    "CSC center list",
    "Digital service rejection report"
  ],
  "Labour": [
    "Construction worker ID list",
    "Labour welfare board benefits",
    "Industrial dispute pending cases"
  ]
},
"Chhattisgarh": {
  "Agriculture": [
    "Paddy procurement data",
    "Fertilizer distribution list",
    "Crop insurance claim report"
  ],
  "Education": [
    "School infrastructure development",
    "Teacher training expenditure",
    "Scholarship fund allocation"
  ],
  "Health": [
    "District hospital medicine stock",
    "Nurse and doctor vacancy",
    "Ambulance availability status"
  ],
  "Police": [
    "Naxal-affected FIR reports",
    "Police battalion manpower",
    "Crime investigation tracking"
  ],
  "Transport": [
    "Road construction progress",
    "RTO license pending cases",
    "Bus route permit status"
  ],
  "Housing": [
    "PM Awas beneficiary list",
    "Slum rehabilitation details",
    "Housing project delays"
  ],
  "Rural Development": [
    "MGNREGA wage payment delay",
    "Panchayat fund expenditure",
    "Village road construction list"
  ],
  "Urban Development": [
    "Municipal solid waste audit",
    "Drainage line construction status",
    "Smart city project expenditure"
  ],
  "Revenue": [
    "Land mutation pending",
    "Property tax assessment data",
    "Land dispute settlement report"
  ],
  "Women & Child Welfare": [
    "Anganwadi food stock report",
    "Widow pension approval list",
    "Child malnutrition data"
  ],
  "Food & Supplies": [
    "Ration card new applications",
    "Rice allocation to districts",
    "PDS shop inspection reports"
  ],
  "Energy": [
    "Power outage schedule",
    "Solar pump installation list",
    "Transformer complaint records"
  ],
  "Water Resources": [
    "Canal irrigation data",
    "Water tank maintenance report",
    "Village water scarcity report"
  ],
  "Industries": [
    "Steel plant pollution report",
    "Industrial license approvals",
    "Factory worker safety audit"
  ],
  "Social Justice": [
    "SC/ST scholarship status",
    "Old age pension delays",
    "Hostel maintenance usage"
  ],
  "Tourism": [
    "Chitrakoot waterfall tourist data",
    "Hotel permit renewal",
    "Tourist facility improvement"
  ],
  "Environment": [
    "Forest fire incident report",
    "Tree plantation audit",
    "Water pollution monitoring"
  ],
  "IT Department": [
    "Digital service request logs",
    "CSC center performance",
    "Online certificate issue status"
  ],
  "Labour": [
    "Worker registration list",
    "Labour fund usage",
    "Labour court pending cases"
  ]
},
"Andhra Pradesh": {
  "Agriculture": [
    "Rythu Bharosa payment status",
    "Crop procurement center records",
    "Fertilizer stock availability"
  ],
  "Education": [
    "Intermediate board exam correction report",
    "Teacher transfer order list",
    "School digital classroom installation"
  ],
  "Health": [
    "Primary health center doctor availability",
    "District hospital equipment purchase",
    "104 ambulance response report"
  ],
  "Police": [
    "Crime investigation delay data",
    "FIR registered per district",
    "Cybercrime pending cases"
  ],
  "Transport": [
    "APSRTC bus route permits",
    "Highway widening progress",
    "E-challan collection report"
  ],
  "Housing": [
    "Housing scheme beneficiary verification",
    "Construction materials supply records",
    "Urban housing delay report"
  ],
  "Rural Development": [
    "MGNREGA wage payment delays",
    "Village sanitation fund usage",
    "Panchayat development works list"
  ],
  "Urban Development": [
    "Municipal water pipeline projects",
    "Smart city funds utilization",
    "Garbage collection contractor details"
  ],
  "Revenue": [
    "Land mutation pending list",
    "Property registration turnaround time",
    "Encroachment removal report"
  ],
  "Women & Child Welfare": [
    "Anganwadi nutrition supply",
    "Girl child welfare scheme list",
    "Widow pension pending applications"
  ],
  "Food & Supplies": [
    "Ration card new approval list",
    "Rice and dal allocation report",
    "PDS shop monthly inspection"
  ],
  "Energy": [
    "Power cut duration logs",
    "Solar rooftop installation status",
    "Substation maintenance report"
  ],
  "Water Resources": [
    "Irrigation canal desilting report",
    "Groundwater recharge progress",
    "Village water supply tracking"
  ],
  "Industries": [
    "Industrial estate plot allotment",
    "Factory pollution control audit",
    "MSME loan beneficiaries list"
  ],
  "Social Justice": [
    "SC/ST welfare scholarship list",
    "Old age pension delay reasons",
    "Hostel maintenance expenditure"
  ],
  "Tourism": [
    "Tirupati tourist footfall data",
    "Hotel license renewal list",
    "Beach safety compliance"
  ],
  "Environment": [
    "Air pollution monitoring report",
    "Forest area encroachment cases",
    "River cleaning project status"
  ],
  "IT Department": [
    "Online service application logs",
    "Digital certificate issue timeline",
    "CSC center ID list"
  ],
  "Labour": [
    "Worker registration status",
    "Labour welfare fund utilization",
    "Industrial accident investigation"
  ]
},

"Telangana": {
  "Agriculture": [
    "Rythu Bandhu payment details",
    "Paddy procurement data",
    "Fertilizer distribution records"
  ],
  "Education": [
    "Government school teacher recruitment",
    "Fee reimbursement status",
    "Mid-day meal quality inspection"
  ],
  "Health": [
    "KCR kit scheme beneficiary list",
    "Hospital bed availability report",
    "Cancer institute equipment purchase"
  ],
  "Police": [
    "Cyberabad crime data",
    "Traffic violation records",
    "Women safety patrol deployment"
  ],
  "Transport": [
    "TSRTC route update report",
    "Metro expansion project details",
    "Toll plaza revenue records"
  ],
  "Housing": [
    "2BHK housing project beneficiaries",
    "Slum redevelopment progress",
    "Urban housing fund usage"
  ],
  "Rural Development": [
    "Panchayat cleanliness audit",
    "MGNREGA muster roll data",
    "Village development works list"
  ],
  "Urban Development": [
    "GHMC road repair project",
    "Streetlight maintenance audit",
    "Water pipeline expansion data"
  ],
  "Revenue": [
    "Land registration timeline",
    "Property mutation status",
    "Encroachment removal direction"
  ],
  "Women & Child Welfare": [
    "Anganwadi food supply",
    "Widow pension beneficiary list",
    "Child protection case reports"
  ],
  "Food & Supplies": [
    "Ration card active list",
    "Rice mill stock inspection",
    "PDS shop complaint logs"
  ],
  "Energy": [
    "Power outages report",
    "Solar pump distribution",
    "Transformer repair records"
  ],
  "Water Resources": [
    "Kaleshwaram project status",
    "Canal irrigation water schedule",
    "Borewell recharge statistics"
  ],
  "Industries": [
    "Industrial land allotment",
    "Pollution NOC pending list",
    "Factory inspection compliance"
  ],
  "Social Justice": [
    "Pension disbursement status",
    "SC/ST beneficiary list",
    "Hostel infrastructure report"
  ],
  "Tourism": [
    "Charminar visitor statistics",
    "Hotel license renewal",
    "Tourist safety guidelines"
  ],
  "Environment": [
    "Air quality index records",
    "Haritha Haram plantation report",
    "River pollution monitoring"
  ],
  "IT Department": [
    "TS-iPASS service logs",
    "Digital certificate delays",
    "E-governance tender details"
  ],
  "Labour": [
    "Worker welfare fund usage",
    "Industrial dispute report",
    "Construction worker list"
  ]
},
"Karnataka": {
  "Agriculture": [
    "Farmer loan waiver status",
    "Crop damage survey report",
    "Fertilizer allocation list"
  ],
  "Education": [
    "School building renovation report",
    "Teacher recruitment data",
    "Scholarship disbursement status"
  ],
  "Health": [
    "PHC staff shortage report",
    "Nursing college inspection",
    "Ambulance response time logs"
  ],
  "Police": [
    "Bengaluru crime statistics",
    "Traffic challan collection",
    "Pending FIR investigation"
  ],
  "Transport": [
    "BMTC bus depot maintenance",
    "Highway construction progress",
    "RTO license pending list"
  ],
  "Housing": [
    "Urban housing approval list",
    "Slum redevelopment plan",
    "Construction progress reports"
  ],
  "Rural Development": [
    "Panchayat fund expenditure",
    "MGNREGA worker attendance",
    "Village water project status"
  ],
  "Urban Development": [
    "Smart city expenditure audit",
    "Garbage collection data",
    "Drainage system repair plan"
  ],
  "Revenue": [
    "Land digitization report",
    "Mutation application pending",
    "Tax assessment complaints"
  ],
  "Women & Child Welfare": [
    "Anganwadi food stock list",
    "Girl child scheme beneficiaries",
    "Women shelter home inspection"
  ],
  "Food & Supplies": [
    "PDS shop irregularity report",
    "Ration distribution monthly data",
    "Food grain storage quality report"
  ],
  "Energy": [
    "BESCOM power cut logs",
    "Solar rooftop survey",
    "Electric meter replacement"
  ],
  "Water Resources": [
    "Kaveri water distribution",
    "Tank desilting progress",
    "Village water supply report"
  ],
  "Industries": [
    "Bengaluru tech park approvals",
    "Industrial pollution index",
    "Factory worker safety report"
  ],
  "Social Justice": [
    "SC/ST welfare scheme list",
    "Senior citizen pension pending",
    "Hostel maintenance fund usage"
  ],
  "Tourism": [
    "Mysore Palace visitor count",
    "Hotel permit approvals",
    "Tourist safety audit"
  ],
  "Environment": [
    "Air quality monitoring",
    "Forest fire incident log",
    "Tree plantation audit"
  ],
  "IT Department": [
    "Seva Sindhu portal logs",
    "CSC center list",
    "Digital certificate issue data"
  ],
  "Labour": [
    "Worker benefit application report",
    "Industrial dispute records",
    "Construction worker registration"
  ]
},

"Kerala": {
  "Agriculture": [
    "Rubber subsidy beneficiary list",
    "Organic farming scheme report",
    "Crop loss compensation data"
  ],
  "Education": [
    "SSLC exam revaluation report",
    "School digital infrastructure status",
    "Teacher training expenditure"
  ],
  "Health": [
    "PHC medicine stock report",
    "Nurse shortage in district hospitals",
    "Ambulance response time data"
  ],
  "Police": [
    "Cybercrime reported cases",
    "Traffic violation statistics",
    "Pending FIR investigation progress"
  ],
  "Transport": [
    "KSRTC bus route permit list",
    "Road safety audit reports",
    "Highway construction status"
  ],
  "Housing": [
    "Life Mission house allotment list",
    "Slum development project update",
    "Construction delay report"
  ],
  "Rural Development": [
    "MGNREGA job card list",
    "Village sanitation audit report",
    "Panchayat fund utilization"
  ],
  "Urban Development": [
    "Smart city project progress",
    "Solid waste management audit",
    "Municipal road repair status"
  ],
  "Revenue": [
    "Land record correction status",
    "Property tax pending list",
    "Mutation delay reports"
  ],
  "Women & Child Welfare": [
    "Anganwadi nutrition distribution",
    "Widow pension delay report",
    "Child protection officer details"
  ],
  "Food & Supplies": [
    "Ration distribution inspection",
    "Rice stock availability",
    "PDS shop violation reports"
  ],
  "Energy": [
    "KSEB power outage logs",
    "Solar roof panel installation list",
    "Transformer repair reports"
  ],
  "Water Resources": [
    "Irrigation canal desilting data",
    "Dam water level status",
    "Village drinking water project"
  ],
  "Industries": [
    "Factory license renewal list",
    "Industrial pollution audit",
    "MSME loan beneficiaries"
  ],
  "Social Justice": [
    "SC/ST scholarship status",
    "Old age pension list",
    "Hostel maintenance usage"
  ],
  "Tourism": [
    "Backwater tourism revenue",
    "Hotel permit renewals",
    "Tourist safety guidelines"
  ],
  "Environment": [
    "Air quality monitoring report",
    "Wildlife conservation activities",
    "River pollution assessment"
  ],
  "IT Department": [
    "e-district service downtime",
    "Certificate issue pending list",
    "CSC center performance"
  ],
  "Labour": [
    "Construction worker welfare data",
    "Industrial dispute pending list",
    "Worker registration status"
  ]
},
"Tamil Nadu": {
  "Agriculture": [
    "Sugarcane subsidy details",
    "Fertilizer distribution monitoring",
    "Crop insurance rejected claims"
  ],
  "Education": [
    "TNPSC exam details",
    "Government school infrastructure audit",
    "Scholarship disbursement status"
  ],
  "Health": [
    "PHC staff shortage",
    "Ambulance GPS tracking reports",
    "Medicine procurement logistics"
  ],
  "Police": [
    "Chennai traffic violation statistics",
    "Pending FIR list",
    "Cybercrime reports"
  ],
  "Transport": [
    "MTC bus maintenance audit",
    "Highway toll revenue report",
    "Metro expansion project status"
  ],
  "Housing": [
    "Slum clearance board data",
    "Urban housing beneficiary list",
    "Housing project delay reasons"
  ],
  "Rural Development": [
    "Panchayat fund usage",
    "Village sanitation inspection",
    "MGNREGA muster roll list"
  ],
  "Urban Development": [
    "Corporation road repair status",
    "Garbage collection contract audit",
    "Smart city project funding"
  ],
  "Revenue": [
    "Land patta issuance progress",
    "Mutation certificate pending",
    "Property tax arrears"
  ],
  "Women & Child Welfare": [
    "Nutrition center food stock",
    "Orphanage inspection report",
    "Widow pension beneficiary list"
  ],
  "Food & Supplies": [
    "Rice and dal allocation report",
    "PDS shop violation details",
    "Ration card update status"
  ],
  "Energy": [
    "TANGEDCO power cut logs",
    "Solar plant installation status",
    "Transformer maintenance records"
  ],
  "Water Resources": [
    "Cauvery water distribution",
    "Tank desilting progress",
    "Village water supply issues"
  ],
  "Industries": [
    "SIPCOT industrial audit",
    "Pollution NOC status",
    "Factory safety inspections"
  ],
  "Social Justice": [
    "SC/ST hostel expenditure",
    "Pension pending list",
    "Scholarship fund usage"
  ],
  "Tourism": [
    "Temple tourism statistics",
    "Hotel license renewal",
    "Tourist safety inspection"
  ],
  "Environment": [
    "River pollution control report",
    "Tree plantation monitoring",
    "Wildlife protection alerts"
  ],
  "IT Department": [
    "TNeGA portal logs",
    "Service downtime analysis",
    "CSC center digital activity"
  ],
  "Labour": [
    "Worker ID card issuance",
    "Labour court pending cases",
    "Social security scheme list"
  ]
},
"Goa": {
  "Agriculture": [
    "Cashew crop production data",
    "Fertilizer supply report",
    "Water irrigation schedule"
  ],
  "Education": [
    "School infrastructure details",
    "Teacher vacancy list",
    "Scholarship fund list"
  ],
  "Health": [
    "Hospital bed availability",
    "Ambulance response report",
    "Medicine stock distribution"
  ],
  "Police": [
    "Tourist crime statistics",
    "Traffic violation records",
    "Cybercrime monitoring report"
  ],
  "Transport": [
    "Kadamba bus permit report",
    "Highway expansion status",
    "Toll collection report"
  ],
  "Housing": [
    "Affordable housing scheme data",
    "Urban slum development",
    "Construction progress update"
  ],
  "Rural Development": [
    "Panchayat work audit",
    "MGNREGA muster roll",
    "Village cleanliness inspection"
  ],
  "Urban Development": [
    "Municipality water pipeline",
    "Solid waste management inspection",
    "Streetlight maintenance"
  ],
  "Revenue": [
    "Land survey pending cases",
    "Mutation application list",
    "Tax defaulters data"
  ],
  "Women & Child Welfare": [
    "Nutrition distribution",
    "Pension pending list",
    "Child safety unit reports"
  ],
  "Food & Supplies": [
    "Ration distribution audit",
    "Rice supply inspection",
    "PDS shop complaints"
  ],
  "Energy": [
    "Electricity outage logs",
    "Solar plant beneficiary list",
    "Transformer replacement record"
  ],
  "Water Resources": [
    "River water pollution data",
    "Canal cleaning report",
    "Village water supply"
  ],
  "Industries": [
    "Hotel industry license",
    "Pollution control inspection",
    "Factory compliance list"
  ],
  "Social Justice": [
    "Pension disbursement",
    "SC/ST welfare list",
    "Hostel expenditure report"
  ],
  "Tourism": [
    "Beach safety inspection",
    "Tourist arrival statistics",
    "Cruise permit details"
  ],
  "Environment": [
    "Coastal pollution monitoring",
    "Forest conservation report",
    "Air pollution status"
  ],
  "IT Department": [
    "Digital services downtime",
    "CSC center activity",
    "Online certificate status"
  ],
  "Labour": [
    "Worker registration",
    "Labour welfare fund usage",
    "Industrial dispute data"
  ]
},
"Maharashtra": {
  "Agriculture": [
    "Soyabean crop yield report",
    "PM-Kisan beneficiary payment list",
    "Irrigation canal water schedule"
  ],
  "Education": [
"Dandekar college have bsc.it course",
"dandekar college have bsc.cs course",
    "Government school teacher vacancy list",
    "RTE admission data",
    "College NAAC accreditation status"
  ],
  "Health": [
    "District hospital ICU bed status",
    "Ambulance deployment report",
    "Medicine purchase & stock details"
  ],
  "Police": [
    "Crime statistics for major cities",
    "Cybercrime complaint list",
    "Traffic challan collection report"
  ],
  "Transport": [
    "MSRTC bus route performance",
    "Highway toll collection data",
    "Road construction progress"
  ],
  "Housing": [
    "MHADA lottery allotment list",
    "Affordable housing project report",
    "Slum redevelopment status"
  ],
  "Rural Development": [
    "Gram Panchayat fund usage",
    "MGNREGA payment & attendance",
    "Village road construction audit"
  ],
  "Urban Development": [
    "Municipal corporation water supply",
    "City waste management inspection",
    "Streetlight maintenance record"
  ],
  "Revenue": [
    "Land mutation pending cases",
    "Property tax defaulters",
    "Revenue court case list"
  ],
  "Women & Child Welfare": [
    "Anganwadi nutrition distribution",
    "Widow pension pending report",
    "Child protection case list"
  ],
  "Food & Supplies": [
    "Ration card beneficiary list",
    "Fair price shop inspection report",
    "Rice & wheat distribution audit"
  ],
  "Energy": [
    "Electricity outage complaint logs",
    "Solar rooftop subsidy list",
    "Transformer repair status"
  ],
  "Water Resources": [
    "Dam water level report",
    "Canal cleaning operation",
    "Village water supply mapping"
  ],
  "Industries": [
    "MIDC industrial plot allotment",
    "Factory license renewal list",
    "Pollution control inspection"
  ],
  "Social Justice": [
    "SC/ST scholarship list",
    "Hostel facility inspection",
    "Pension disbursement data"
  ],
  "Tourism": [
    "Hill station tourist statistics",
    "Hotel license verification",
    "Fort conservation project"
  ],
  "Environment": [
    "Air pollution AQI report",
    "Forest fire incident data",
    "Tree plantation audit"
  ],
  "IT Department": [
    "Digital services server uptime",
    "CSC center performance list",
    "Online certificate processing"
  ],
  "Labour": [
    "Worker registration summary",
    "Welfare fund usage report",
    "Industrial dispute settlement"
  ]
},
"Sikkim": {
  "Agriculture": [
    "Organic farming output report",
    "Seed distribution list",
    "Irrigation system maintenance"
  ],
  "Education": [
    "School infrastructure inspection",
    "Teacher transfer list",
    "Scholarship disbursement"
  ],
  "Health": [
    "PHC doctor availability",
    "Medicine stock report",
    "Ambulance movement record"
  ],
  "Police": [
    "Border area security report",
    "Crime statistics",
    "Traffic enforcement audit"
  ],
  "Transport": [
    "State bus route timing",
    "Road repair progress",
    "Vehicle permit issuance"
  ],
  "Housing": [
    "Housing scheme beneficiary list",
    "Construction progress report",
    "Urban slum development"
  ],
  "Rural Development": [
    "MGNREGA work details",
    "Village sanitation report",
    "Panchayat meeting minutes"
  ],
  "Urban Development": [
    "Drainage system inspection",
    "Smart city project status",
    "Municipal waste audit"
  ],
  "Revenue": [
    "Land ownership registration",
    "Mutation status",
    "Village revenue map update"
  ],
  "Women & Child Welfare": [
    "ICDS nutrition reports",
    "Women safety cell activities",
    "Child adoption monitoring"
  ],
  "Food & Supplies": [
    "PDS distribution audit",
    "Ration shop inspection",
    "Grain allocation list"
  ],
  "Energy": [
    "Hydropower project update",
    "Electric line maintenance",
    "Transformer health audit"
  ],
  "Water Resources": [
    "River water quality status",
    "Pipeline repair report",
    "Village water level data"
  ],
  "Industries": [
    "Industry license issuance",
    "Tourism hotel compliance",
    "Industrial pollution monitoring"
  ],
  "Social Justice": [
    "Pension disbursement data",
    "SC/ST welfare scheme",
    "Hostel facility audit"
  ],
  "Tourism": [
    "Tourist arrival statistics",
    "Permit issuance records",
    "Monastery renovation report"
  ],
  "Environment": [
    "Forest conservation survey",
    "Wildlife monitoring report",
    "Air pollution record"
  ],
  "IT Department": [
    "Online service uptime",
    "CSC center inspection",
    "Digital certificate audit"
  ],
  "Labour": [
    "Worker registration report",
    "Labour welfare fund",
    "Factory inspection record"
  ]
},
"Arunachal Pradesh": {
  "Agriculture": [
    "Maize production report",
    "Fertilizer distribution",
    "Irrigation system audit"
  ],
  "Education": [
    "Teacher attendance report",
    "Hostel facility audit",
    "Scholarship allocation"
  ],
  "Health": [
    "PHC staff availability",
    "Medicine stock register",
    "Ambulance response data"
  ],
  "Police": [
    "Border district security",
    "Crime incident report",
    "Traffic violation data"
  ],
  "Transport": [
    "State road project status",
    "Bus operation timetable",
    "Vehicle permit issuance"
  ],
  "Housing": [
    "Housing scheme list",
    "Construction quality audit",
    "Urban development report"
  ],
  "Rural Development": [
    "MGNREGA job card list",
    "Panchayat fund usage",
    "Village cleanliness audit"
  ],
  "Urban Development": [
    "Municipal drainage report",
    "City water supply",
    "Streetlight maintenance"
  ],
  "Revenue": [
    "Land registration status",
    "Mutation cases",
    "Tax collection report"
  ],
  "Women & Child Welfare": [
    "Anganwadi health report",
    "Women helpline data",
    "Nutrition distribution audit"
  ],
  "Food & Supplies": [
    "Ration distribution log",
    "PDS stock report",
    "Fair price shop audit"
  ],
  "Energy": [
    "Hydro project status",
    "Power outage logs",
    "Transformer repair data"
  ],
  "Water Resources": [
    "River water flow report",
    "Pipeline repair progress",
    "Village water inspection"
  ],
  "Industries": [
    "Factory license list",
    "Pollution inspection report",
    "Industrial growth report"
  ],
  "Social Justice": [
    "Pension beneficiary list",
    "SC/ST welfare distribution",
    "Hostel audit report"
  ],
  "Tourism": [
    "Tourist permit issues",
    "Visitor statistics",
    "Monastery renovation work"
  ],
  "Environment": [
    "Forest fire incidents",
    "Wildlife monitoring report",
    "Air quality record"
  ],
  "IT Department": [
    "Digital certificate status",
    "CSC center activity",
    "Online portal uptime"
  ],
  "Labour": [
    "Worker registration",
    "Labour dispute report",
    "Welfare fund usage"
  ]
},
"Assam": {
  "Agriculture": [
    "Tea garden production data",
    "PM-Kisan beneficiary verification",
    "Flood-affected crop loss report"
  ],
  "Education": [
    "School boundary wall construction",
    "Teacher attendance report",
    "Scholarship disbursement list"
  ],
  "Health": [
    "Rural hospital equipment status",
    "Ambulance movement log",
    "Medicine purchase audit"
  ],
  "Police": [
    "Border crime statistics",
    "Human trafficking case reports",
    "Cybercrime investigation log"
  ],
  "Transport": [
    "ASTC bus route performance",
    "Bridge repair progress",
    "Highway toll collection record"
  ],
  "Housing": [
    "Pradhan Mantri Awas Yojana list",
    "Urban housing construction audit",
    "Slum redevelopment progress"
  ],
  "Rural Development": [
    "MGNREGA job card list",
    "Village drainage system status",
    "Panchayat fund utilization"
  ],
  "Urban Development": [
    "Guwahati Smart City report",
    "Solid waste management inspection",
    "Water supply pipeline audit"
  ],
  "Revenue": [
    "Land mutation pending list",
    "Encroachment case records",
    "Property tax collection status"
  ],
  "Women & Child Welfare": [
    "Anganwadi nutrition distribution",
    "Women safety helpline report",
    "Child protection unit activities"
  ],
  "Food & Supplies": [
    "Ration card beneficiary verification",
    "Rice stock distribution audit",
    "Fair price shop inspection"
  ],
  "Energy": [
    "Power outage logs",
    "Substation maintenance report",
    "Transformer replacement schedule"
  ],
  "Water Resources": [
    "Brahmaputra embankment inspection",
    "Canal desiltation progress",
    "Flood-prone area mapping"
  ],
  "Industries": [
    "Industrial license issuance list",
    "Oil refinery compliance report",
    "Pollution control inspection"
  ],
  "Social Justice": [
    "Old-age pension disbursement list",
    "SC/ST scholarship data",
    "Hostel maintenance audit"
  ],
  "Tourism": [
    "Kaziranga visitor statistics",
    "River cruise permit list",
    "Hotel classification inspection"
  ],
  "Environment": [
    "Forest fire incident data",
    "Air pollution monitoring report",
    "Wildlife movement tracking"
  ],
  "IT Department": [
    "Online service uptime logs",
    "Digital portal performance",
    "CSC center activity report"
  ],
  "Labour": [
    "Tea garden worker registration",
    "Labour welfare fund usage",
    "Industrial dispute settlement"
  ]
},
"Nagaland": {
  "Agriculture": [
    "Organic farming progress report",
    "Fertilizer distribution status",
    "Terrace farming inspection details"
  ],
  "Education": [
    "Government school renovation list",
    "Teacher vacancy & deployment report",
    "Student scholarship beneficiaries"
  ],
  "Health": [
    "Rural health center staff availability",
    "Medicine stock & supply report",
    "Ambulance emergency response data"
  ],
  "Police": [
    "District-wise crime statistics",
    "Border area patrolling report",
    "Cybercrime complaint monitoring"
  ],
  "Transport": [
    "State transport vehicle permits",
    "Hill road safety inspection report",
    "Highway construction progress"
  ],
  "Housing": [
    "Housing scheme beneficiary list",
    "Slum development progress",
    "Construction quality inspection"
  ],
  "Rural Development": [
    "Village development fund usage",
    "MGNREGA muster roll verification",
    "Water supply in rural areas"
  ],
  "Urban Development": [
    "Waste collection & disposal audit",
    "Town road repair status",
    "Municipal pipeline inspection"
  ],
  "Revenue": [
    "Land ownership verification",
    "Pending mutation application list",
    "Tax collection performance"
  ],
  "Women & Child Welfare": [
    "ICDS nutrition distribution",
    "Women helpline complaint report",
    "Child safety audit"
  ],
  "Food & Supplies": [
    "Ration card beneficiary list",
    "PDS stock inspection report",
    "Rice allocation & distribution"
  ],
  "Energy": [
    "Electricity outage logs",
    "Transformer maintenance status",
    "Rural electrification progress"
  ],
  "Water Resources": [
    "Hill stream water quality test",
    "Reservoir maintenance report",
    "Pipeline leakage inspection"
  ],
  "Industries": [
    "Cottage industry beneficiary list",
    "Factory license approval log",
    "Pollution monitoring report"
  ],
  "Social Justice": [
    "SC/ST pension distribution",
    "Hostel facility inspection",
    "Welfare scheme beneficiaries"
  ],
  "Tourism": [
    "Hornbill festival visitor data",
    "Hotel license verification",
    "Tourist permit issuance"
  ],
  "Environment": [
    "Forest area conservation report",
    "Wildlife protection audit",
    "Air quality monitoring"
  ],
  "IT Department": [
    "Online service uptime report",
    "Digital service center inspection",
    "E-governance project status"
  ],
  "Labour": [
    "Worker registration database",
    "Labour dispute settlement",
    "Welfare board fund usage"
  ]
},
"Manipur": {
  "Agriculture": [
    "Irrigation for paddy fields status",
    "Organic farming subsidy list",
    "Fertilizer supply chain inspection"
  ],
  "Education": [
    "School infrastructure reconstruction report",
    "Teacher attendance audit",
    "Scholarship disbursement statistics"
  ],
  "Health": [
    "Hill district hospital staff list",
    "Medicine shortage & stock report",
    "Ambulance emergency call response"
  ],
  "Police": [
    "District-wise FIR statistics",
    "Border security & patrolling report",
    "Cybercrime investigation updates"
  ],
  "Transport": [
    "Imphal road widening progress",
    "Rural transport connectivity status",
    "Public bus permit audit"
  ],
  "Housing": [
    "Flood-affected housing reconstruction",
    "PM Awas Yojana beneficiary list",
    "Urban slum rehabilitation status"
  ],
  "Rural Development": [
    "MGNREGA payment delay report",
    "Village sanitation inspection",
    "Rural water distribution data"
  ],
  "Urban Development": [
    "City drainage cleaning report",
    "Municipal waste collection records",
    "Streetlight maintenance logs"
  ],
  "Revenue": [
    "Pending land mutation files",
    "Property tax collection status",
    "Land encroachment case report"
  ],
  "Women & Child Welfare": [
    "Anganwadi nutrition distribution",
    "Women helpline complaint resolution",
    "Child protection audit"
  ],
  "Food & Supplies": [
    "Rice stock & ration distribution",
    "PDS shop inspection report",
    "Ration card beneficiary verification"
  ],
  "Energy": [
    "Electricity outage frequency logs",
    "Transformer repair status",
    "Solar panel subsidy beneficiary list"
  ],
  "Water Resources": [
    "Canal clearance & desilting report",
    "Drinking water pipeline inspection",
    "Reservoir water quality test"
  ],
  "Industries": [
    "Small-scale industry registration",
    "Industrial pollution monitoring",
    "Factory license renewal report"
  ],
  "Social Justice": [
    "SC/ST scholarship disbursement",
    "Senior citizen pension audit",
    "Hostel facility inspection report"
  ],
  "Tourism": [
    "Loktak Lake tourist data",
    "Hotel license verification",
    "Tourist guide registration list"
  ],
  "Environment": [
    "Forest fire incident report",
    "Wildlife conservation activities",
    "Air pollution monitoring"
  ],
  "IT Department": [
    "Online certificate delivery statistics",
    "Digital service center reports",
    "State e-governance project status"
  ],
  "Labour": [
    "Worker registration count",
    "Labour welfare fund usage",
    "Industrial dispute settlement data"
  ]
},
"Meghalaya": {
  "Agriculture": [
    "Pineapple & turmeric crop production report",
    "Farmer subsidy disbursement list",
    "Irrigation project inspection"
  ],
  "Education": [
    "Teacher recruitment vacancy list",
    "School infrastructure safety audit",
    "Scholarship fund utilization report"
  ],
  "Health": [
    "PHC medicine stock report",
    "Hospital staff availability list",
    "Ambulance emergency response time"
  ],
  "Police": [
    "Traffic violation statistics in Shillong",
    "Cybercrime case status report",
    "Illegal mining complaint records"
  ],
  "Transport": [
    "Road widening project status",
    "State bus service permit list",
    "Road safety inspection report"
  ],
  "Housing": [
    "Low-income housing scheme beneficiaries",
    "Urban slum redevelopment report",
    "Construction progress in rural housing"
  ],
  "Rural Development": [
    "MGNREGA job card issuance list",
    "Village cleanliness & sanitation audit",
    "Rural drinking water supply status"
  ],
  "Urban Development": [
    "Waste collection route monitoring",
    "Stormwater drainage cleaning report",
    "Streetlight repair & maintenance log"
  ],
  "Revenue": [
    "Land mutation pending cases",
    "Tax defaulters reporting list",
    "Property registration delays"
  ],
  "Women & Child Welfare": [
    "Anganwadi food supply audit",
    "Domestic violence case data",
    "Child protection home inspection"
  ],
  "Food & Supplies": [
    "Ration distribution grievances",
    "Rice stock verification report",
    "PDS shop irregularities"
  ],
  "Energy": [
    "Electricity outage report",
    "Solar project beneficiary list",
    "Transformer maintenance record"
  ],
  "Water Resources": [
    "Dam water storage status",
    "Canal desilting & repair work",
    "Water quality testing report"
  ],
  "Industries": [
    "Cement industry compliance audit",
    "Factory pollution inspection",
    "Industrial license application list"
  ],
  "Social Justice": [
    "Disabled pension scheme list",
    "SC/ST welfare fund allocation",
    "Hostel inspection report"
  ],
  "Tourism": [
    "Living root bridges tourist data",
    "Guide license verification",
    "Tourist safety inspection report"
  ],
  "Environment": [
    "Forest conservation report",
    "Air pollution monitoring data",
    "Illegal logging case records"
  ],
  "IT Department": [
    "Online services downtime report",
    "CSC center performance audit",
    "Digital certificate issuance log"
  ],
  "Labour": [
    "Worker registration database",
    "Construction worker welfare fund",
    "Industrial dispute resolution status"
  ]
},
"Meghalaya": {
  "Agriculture": [
    "Pineapple & turmeric crop production report",
    "Farmer subsidy disbursement list",
    "Irrigation project inspection"
  ],
  "Education": [
    "Teacher recruitment vacancy list",
    "School infrastructure safety audit",
    "Scholarship fund utilization report"
  ],
  "Health": [
    "PHC medicine stock report",
    "Hospital staff availability list",
    "Ambulance emergency response time"
  ],
  "Police": [
    "Traffic violation statistics in Shillong",
    "Cybercrime case status report",
    "Illegal mining complaint records"
  ],
  "Transport": [
    "Road widening project status",
    "State bus service permit list",
    "Road safety inspection report"
  ],
  "Housing": [
    "Low-income housing scheme beneficiaries",
    "Urban slum redevelopment report",
    "Construction progress in rural housing"
  ],
  "Rural Development": [
    "MGNREGA job card issuance list",
    "Village cleanliness & sanitation audit",
    "Rural drinking water supply status"
  ],
  "Urban Development": [
    "Waste collection route monitoring",
    "Stormwater drainage cleaning report",
    "Streetlight repair & maintenance log"
  ],
  "Revenue": [
    "Land mutation pending cases",
    "Tax defaulters reporting list",
    "Property registration delays"
  ],
  "Women & Child Welfare": [
    "Anganwadi food supply audit",
    "Domestic violence case data",
    "Child protection home inspection"
  ],
  "Food & Supplies": [
    "Ration distribution grievances",
    "Rice stock verification report",
    "PDS shop irregularities"
  ],
  "Energy": [
    "Electricity outage report",
    "Solar project beneficiary list",
    "Transformer maintenance record"
  ],
  "Water Resources": [
    "Dam water storage status",
    "Canal desilting & repair work",
    "Water quality testing report"
  ],
  "Industries": [
    "Cement industry compliance audit",
    "Factory pollution inspection",
    "Industrial license application list"
  ],
  "Social Justice": [
    "Disabled pension scheme list",
    "SC/ST welfare fund allocation",
    "Hostel inspection report"
  ],
  "Tourism": [
    "Living root bridges tourist data",
    "Guide license verification",
    "Tourist safety inspection report"
  ],
  "Environment": [
    "Forest conservation report",
    "Air pollution monitoring data",
    "Illegal logging case records"
  ],
  "IT Department": [
    "Online services downtime report",
    "CSC center performance audit",
    
    "Digital certificate issuance log"
  ],
  "Labour": [
    "Worker registration database",
    "Construction worker welfare fund",
    "Industrial dispute resolution status"
  ]
}
};


/* If you already have dataset.js that sets RTI_DATASET, prefer that. If both exist, the global RTI_DATASET will be used. */
if (typeof window.RTI_DATASET !== 'undefined') {
  // use external RTI_DATASET if provided
  // (do nothing - existing global will be used)
} else {
  window.RTI_DATASET = RTI_DATASET;
}

/* ==================== HELPERS ==================== */
const id = x => document.getElementById(x);

function generateRegNo() {
  const p = "RTI";
  const d = new Date();
  const dd = String(d.getDate()).padStart(2,'0');
  const mm = String(d.getMonth()+1).padStart(2,'0');
  const yy = String(d.getFullYear()).slice(-2);
  const rnd = Math.floor(1000 + Math.random()*9000);
  return `${p}-${dd}${mm}${yy}-${rnd}`;
}

/* ========== Populate state dropdown ========== */
function loadStates() {
  const s = id("state");
  s.innerHTML = '<option value="">Select State/UT</option>';
  Object.keys(window.RTI_DATASET).forEach(st => {
    const op = document.createElement("option");
    op.value = st; op.textContent = st;
    s.appendChild(op);
  });
}

/* ========== Load departments for selected state ========== */
function loadDepartments() {
  const state = id("state").value;
  const dep = id("department");
  dep.innerHTML = '<option value="">Select Department</option>';
  if (!state || !window.RTI_DATASET[state]) return;
  Object.keys(window.RTI_DATASET[state]).forEach(dn => {
    const op = document.createElement("option");
    op.value = dn; op.textContent = dn;
    dep.appendChild(op);
  });
}

/* ========== Load subject hints ========== */
function loadSubjectHints(){
  const s = id("state").value;
  const d = id("department").value;
  const subj = id("subject");
  if (s && d && window.RTI_DATASET[s] && window.RTI_DATASET[s][d]) {
    const hints = window.RTI_DATASET[s][d].slice(0,4);
    subj.placeholder = "Examples: " + hints.join(", ");
  } else {
    subj.placeholder = "Short subject (e.g., Road widening at X chowk)";
  }
}

/* ========== Captcha ========== */
let generatedCaptcha = "";
function genCaptcha(){
  const chars = "ABCDEFGHJKLMNPQRSTUVWXYZ23456789";
  generatedCaptcha = "";
  for(let i=0;i<5;i++) generatedCaptcha += chars[Math.floor(Math.random()*chars.length)];
  id("captchaBox").innerText = generatedCaptcha;
}
id("captchaRefresh").onclick = genCaptcha;

/* ========== Pincode verify ========== */
function verifyPincode(state, pinStr) {
  if (!pinStr) return false;
  const pin = parseInt(pinStr);
  if (!PINCODE_RANGE[state]) return true; // unknown state -> skip strict check
  const [min,max] = PINCODE_RANGE[state];
  return pin >= min && pin <= max;
}

/* ========== Email validation (simple) ========== */
function isValidEmail(e) {
  // basic check
  return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e);
}

/* ========== Logout (fixed) ========== */
function logout(){
  localStorage.clear();
  id("liveMsg").innerText = "Logged out!";
  setTimeout(()=> window.location.href = "login.html", 900);
}



/* ========== AI-like verification ========== */
function aiVerifyRTI(){
  const state = id("state").value;
  const department = id("department").value;
  const subject = id("subject").value.trim().toLowerCase();
  const rtiText = id("rtiText").value.trim().toLowerCase();

  const live = id("liveMsg");
  live.innerText = "";

  if (!state || !department || !subject) {
    live.innerText = "⚠ Select state, department and enter a subject first.";
    return;
  }

  // build keywords from hints
  const hints = (window.RTI_DATASET[state] && window.RTI_DATASET[state][department]) ? window.RTI_DATASET[state][department] : [];
  const keywords = hints.flatMap(h => h.split(" ")).map(k=>k.toLowerCase());

  // count matches
  let matches = 0;
  const subjectWords = subject.split(/\s+/).filter(Boolean);
  subjectWords.forEach(w => { if (keywords.includes(w)) matches++; });

  const matchPercent = subjectWords.length ? Math.round((matches / subjectWords.length) * 100) : 0;

  // extra checks
  let remarks = [];
  if (matchPercent >= 65) remarks.push("Subject appears relevant to selected department.");
  else remarks.push("Subject may not match department — please review.");

  // check for fake-report keywords
  const suspicious = ["fake","timepass","joke","not real","random","no work","nothing"];
  suspicious.forEach(s => { if (rtiText.includes(s)) remarks.push("Description contains suspicious words (possible fake)."); });

  // pincode check (if available)
  const pin = id("pincode").value.trim();
  if (pin && !verifyPincode(state, pin)) remarks.push("Pincode does not match selected state — check pincode.");

  // final message
  id("aiResult").style.display = "block";
  if (remarks.length === 1 && /relevant/i.test(remarks[0])) {
    id("aiResult").className = "ok";
    id("aiResult").innerText = `✅ AI Verify Passed — Match: ${matchPercent}%\n${remarks.join("\n")}`;
  } else {
    id("aiResult").className = "warn";
    id("aiResult").innerText = `⚠ AI Verify Result — Match: ${matchPercent}%\n${remarks.join("\n")}`;
  }
}

/* ========== Submit RTI (uploads photo then saves form) ========== */
async function submitRTI(){
  id("liveMsg").innerText = "";
  id("aiResult").style.display = "none";

  // fetch values
  const data = {
    regNo: id("regNo").value,
    state: id("state").value,
    department: id("department").value,
    subject: id("subject").value.trim(),
    name: id("name").value.trim(),
    gender: id("gender").value,
    age: id("age").value,
    addr1: id("addr1").value.trim(),
    addr2: id("addr2").value.trim(),
    pincode: id("pincode").value.trim(),
    mobile: id("mobile").value.trim(),
    email: id("email").value.trim(),
    rtiText: id("rtiText").value.trim(),
    geo: id("geo").value,
    createdAt: new Date().toISOString(),
    status: "new"
  };

  // basic validations
  if (!data.state || !data.department || !data.subject || !data.name || !data.addr1 || !data.pincode || !data.mobile || !data.email || !data.rtiText) {
    id("liveMsg").innerText = "❌ Please fill all required fields.";
    return;
  }

  if (!isValidEmail(data.email)) { id("liveMsg").innerText = "❌ Invalid email."; return; }

  if (id("captchaInput").value !== generatedCaptcha) { id("liveMsg").innerText = "❌ Invalid captcha."; return; }

  if (!verifyPincode(data.state, data.pincode)) {
    id("liveMsg").innerText = `❌ Pincode does NOT look valid for ${data.state}.`;
    return;
  }

  // AI pre-check
  // run simple aiVerifyRTI logic to warn user (but not block)
  aiVerifyRTI();

  

  // Save to Backendless DB
  try {
    id("liveMsg").innerText = "Saving RTI...";
    const saved = await Backendless.Data.of("RTI_Forms").save(data);
    id("liveMsg").innerText = "✅ RTI Submitted Successfully! Registration: " + data.regNo;
    // reset form partially
    id("rtiForm").reset();
    genCaptcha();
    id("regNo").value = generateRegNo();
    id("aiResult").style.display = "none";
  } catch (err) {
    console.error(err);
    id("liveMsg").innerText = "❌ Failed to save RTI. Try again.";
  }
}

/* ========== AUTO REG NUMBER ========== */
function generateRegNo() {
  return "RTI-" + Date.now();
}
document.getElementById("regNo").value = generateRegNo();

/* ========== SUBMIT RTI FUNCTION ========== */
async function submitRTI() {
  const state = state.value.trim();
  const dept = department.value.trim();
  const subjectTxt = subject.value.trim();
  const nameVal = name.value.trim();
  const ageVal = age.value.trim();
  const addr1Val = addr1.value.trim();
  const pincodeVal = pincode.value.trim();
  const mobileVal = mobile.value.trim();
  const emailVal = email.value.trim();
  const rtiTxt = rtiText.value.trim();
  const captchaVal = captchaInput.value.trim();

  // ----- VALIDATION -----
  if (!state || !dept || !subjectTxt || !nameVal || !addr1Val || !pincodeVal || !mobileVal || !emailVal || !rtiTxt) {
    liveMsg.innerHTML = "❌ Please fill all required fields.";
    return;
  }

  // PINCODE RANGE CHECK
  if (PINCODE_RANGE[state]) {
    let [min, max] = PINCODE_RANGE[state];
    if (!(pincodeVal >= min && pincodeVal <= max)) {
      liveMsg.innerHTML = "❌ Pincode does not match selected state.";
      return;
    }
  }

  // CAPTCHA CHECK
  if (captchaVal !== captchaValue) {
    liveMsg.innerHTML = "❌ Captcha incorrect.";
    return;
  }

  liveMsg.innerHTML = "⏳ Submitting...";

  // SAVE TO BACKENDLESS
  const data = {
    regNo: regNo.value,
    state,
    department: dept,
    subject: subjectTxt,
    name: nameVal,
    gender: gender.value,
    age: ageVal,
    addr1: addr1Val,
    addr2: addr2.value.trim(),
    pincode: pincodeVal,
    mobile: mobileVal,
    email: emailVal,
    rtiText: rtiTxt,
    createdOn: new Date().toISOString()
  };

  try {
    await Backendless.Data.of("RTI_Form").save(data);
    liveMsg.innerHTML = "✅ Your RTI has been successfully submitted!";
    liveMsg.style.color = "#0A6522";

    // Reset except regNo
    document.getElementById("rtiForm").reset();
    regNo.value = generateRegNo();
    loadCaptcha();

  } catch (e) {
    liveMsg.innerHTML = "❌ Error submitting: " + e.message;
  }
}
/* ========== INIT on load ========== */
window.addEventListener("DOMContentLoaded", () => {
  // init reg no
  id("regNo").value = generateRegNo();

  // init captcha
  genCaptcha();

  // populate states
  loadStates();

  // if external RTI_DATASET exists use it
  if (typeof window.RTI_DATASET !== 'undefined') {
    // use existing global
    // loadStates() already uses window.RTI_DATASET
  }
});
</script>

</body>
</html>